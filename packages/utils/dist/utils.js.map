{"version":3,"file":"utils.js","sources":["../src/toBool.js","../src/env.js"],"sourcesContent":["import { isString } from 'lodash-es'\r\n\r\n/**\r\n * @render utils\r\n * @name toBool\r\n * @param val\r\n * @returns {boolean}\r\n * @description Convert value to a boolean.\r\n * @example\r\n * toBool(true); // -> true\r\n * toBool(null); // -> false\r\n * toBool(1); // -> true\r\n * toBool(0); // -> false\r\n * toBool('0'); // -> false\r\n * toBool('1'); // -> true\r\n * toBool('false'); // -> false\r\n */\r\n\r\nfunction toBool(val) {\r\n    if (isString(val)) {\r\n        val = val.toLowerCase();\r\n        return val !== '0' && val !== '' && val !== 'false';\r\n    }\r\n\r\n    return !!val;\r\n}\r\n\r\nexport default toBool","import dotenv from 'dotenv'\r\nimport { toLower } from 'lodash'\r\nimport collect from 'collect.js'\r\n\r\n/**\r\n * @static\r\n * @description Gets the value of an environment variable.\r\n * @param {string} key\r\n * @param {mixed} _default\r\n * @return {mixed}\r\n */\r\n\r\nfunction env(key, _default = null) {\r\n    const result = dotenv.config()\r\n\r\n    if (result.error) {\r\n        throw result.error\r\n    }\r\n\r\n    return collect(result.parsed).map(v => {\r\n        switch (toLower(v)) {\r\n            case 'true':\r\n            case '(true)':\r\n                return true;\r\n            case 'false':\r\n            case '(false)':\r\n                return false;\r\n            case 'empty':\r\n            case '(empty)':\r\n                return '';\r\n            case 'null':\r\n            case '(null)':\r\n                return;\r\n        }\r\n\r\n        return v;\r\n    }).get(key, _default)\r\n}\r\n\r\nexport default env"],"names":["toBool","val","isString","toLowerCase","env","key","_default","result","dotenv","config","error","collect","parsed","map","v","toLower","get"],"mappings":";;;;;;;AAEA;;;;;;;;;;;;;;;;AAgBA,SAASA,MAAT,CAAgBC,GAAhB,EAAqB;AACjB,MAAIC,iBAAQ,CAACD,GAAD,CAAZ,EAAmB;AACfA,IAAAA,GAAG,GAAGA,GAAG,CAACE,WAAJ,EAAN;AACA,WAAOF,GAAG,KAAK,GAAR,IAAeA,GAAG,KAAK,EAAvB,IAA6BA,GAAG,KAAK,OAA5C;AACH;;AAED,SAAO,CAAC,CAACA,GAAT;AACH;;ACrBD;;;;;;;;AAQA,SAASG,GAAT,CAAaC,GAAb,EAAkBC,QAAlB,EAAmC;AAAA,MAAjBA,QAAiB;AAAjBA,IAAAA,QAAiB,GAAN,IAAM;AAAA;;AAC/B,MAAMC,MAAM,GAAGC,MAAM,CAACC,MAAP,EAAf;;AAEA,MAAIF,MAAM,CAACG,KAAX,EAAkB;AACd,UAAMH,MAAM,CAACG,KAAb;AACH;;AAED,SAAOC,OAAO,CAACJ,MAAM,CAACK,MAAR,CAAP,CAAuBC,GAAvB,CAA2B,UAAAC,CAAC,EAAI;AACnC,YAAQC,cAAO,CAACD,CAAD,CAAf;AACI,WAAK,MAAL;AACA,WAAK,QAAL;AACI,eAAO,IAAP;;AACJ,WAAK,OAAL;AACA,WAAK,SAAL;AACI,eAAO,KAAP;;AACJ,WAAK,OAAL;AACA,WAAK,SAAL;AACI,eAAO,EAAP;;AACJ,WAAK,MAAL;AACA,WAAK,QAAL;AACI;AAZR;;AAeA,WAAOA,CAAP;AACH,GAjBM,EAiBJE,GAjBI,CAiBAX,GAjBA,EAiBKC,QAjBL,CAAP;AAkBH;;;;;"}